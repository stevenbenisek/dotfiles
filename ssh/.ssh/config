# Include orbstack
Include ~/.orbstack/ssh/config

Host *
  # Prevent SSH from trying every key - only use specified keys
  IdentitiesOnly yes

  # Prefer public key authentication
  PreferredAuthentications publickey

  # Keep connections alive
  ServerAliveInterval 60
  ServerAliveCountMax 3
  TCPKeepAlive yes

  # Security: Use modern key exchange algorithms
  KexAlgorithms curve25519-sha256,curve25519-sha256@libssh.org,diffie-hellman-group-exchange-sha256

  # Reuse connections
  AddKeysToAgent yes

  # Compression for slow connections (disable on fast networks)
  Compression no

  # Forward agent cautiously (disabled by default for security)
  ForwardAgent no

# Include host-specific configurations
Include ~/.ssh/config.local
